<template>
  <div class="wrapper">
    <div class="rank-wrapper">
      <div class="rank-title third-column">Rank</div>
      <div></div>
      <div></div>
      <div class="rank-title third-column">Rating</div>
    </div>
    <template for:each={allPlayers} for:item="player">
      <div
        class="rank-wrapper"
        key={player.Id}
        id={player.Id}
        onclick={handleModal}
      >
        <div class="rank-number third-column" id={player.Id}>
          {player.CM_Rank__c}<span class="ordinal" id={player.Id}
            >{player.Ordinal}</span
          >
        </div>
        <div class="avatar" id={player.Id}>
          <img id={player.Id} src={player.CM_Avatar_File__c} />
        </div>
        <div class="player-name" id={player.Id}>{player.Name}</div>
        <div class="elo-number third-column" id={player.Id}>
          {player.CM_ELO_Rank__c}
        </div>
      </div>
    </template>
    <template if:true={selectedPlayer}>
      <c-cm-modal
        all-tournament-results={allTournamentResults}
        all-tag-challenges={allTagChallenges}
        selected-player={selectedPlayer}
        onclosemodal={handleCloseModal}
      ></c-cm-modal>
    </template>
  </div>
</template>
